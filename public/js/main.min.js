!function(){"use strict";const e=document.querySelector(".mobile-menu-toggle"),t=document.querySelector(".nav-menu"),n=document.querySelectorAll(".nav-link"),o=document.getElementById("navigation"),s=document.querySelector(".mobile-menu-overlay"),c=document.querySelectorAll("section[id]");function i(){window.scrollY>50?o.classList.add("scrolled"):o.classList.remove("scrolled")}function a(){const n="true"===e.getAttribute("aria-expanded");if(e.setAttribute("aria-expanded",!n),t.classList.toggle("active"),s.classList.toggle("active"),document.body.classList.toggle("menu-open"),s.setAttribute("aria-hidden",n?"true":"false"),n)e.focus();else{const e=t.querySelector(".nav-link");e&&setTimeout(()=>e.focus(),300)}}function r(){e.setAttribute("aria-expanded","false"),t.classList.remove("active"),s.classList.remove("active"),document.body.classList.remove("menu-open"),s.setAttribute("aria-hidden","true"),e.focus()}function l(){t.classList.contains("active")&&r()}function u(e){e.preventDefault();const n=this.getAttribute("href"),s=document.querySelector(n);if(s){if("#hero"===n)window.scrollTo({top:0,behavior:"smooth"});else{const e=function(){const e=o.classList.contains("scrolled");e||o.classList.add("scrolled");const t=o.offsetHeight;return e||o.classList.remove("scrolled"),t}(),t=20,n=s.offsetTop-e+t;window.scrollTo({top:n,behavior:"smooth"})}t.classList.contains("active")&&r()}}function d(){const e=window.scrollY+o.offsetHeight+100;c.forEach(t=>{const o=t.offsetTop,s=t.offsetHeight,c=t.getAttribute("id");e>=o&&e<o+s&&n.forEach(e=>{e.classList.remove("active"),e.removeAttribute("aria-current"),e.getAttribute("href")===`#${c}`&&(e.classList.add("active"),e.setAttribute("aria-current","page"))})})}let f;function m(){f&&window.cancelAnimationFrame(f),f=window.requestAnimationFrame(()=>{i(),d()})}function v(){e&&e.addEventListener("click",a),s&&s.addEventListener("click",l),n.forEach(e=>{e.addEventListener("click",u)});const c=document.querySelector(".nav-logo a");c&&c.addEventListener("click",function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"}),t.classList.contains("active")&&r()}),window.addEventListener("scroll",m,{passive:!0}),i(),d(),function(){const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("fade-in-visible")})},{root:null,rootMargin:"0px",threshold:.1});document.querySelectorAll(".fade-in").forEach(t=>{e.observe(t)})}(),function(){if(!("scrollBehavior"in document.documentElement.style)){const e=(e,t)=>{const n=window.pageYOffset,o=e-n;let s=null;const c=e=>{null===s&&(s=e);const a=e-s,r=i(a,n,o,t);window.scrollTo(0,r),a<t&&requestAnimationFrame(c)},i=(e,t,n,o)=>(e/=o/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t;requestAnimationFrame(c)};n.forEach(n=>{n.addEventListener("click",function(n){n.preventDefault();const s=this.getAttribute("href"),c=document.querySelector(s);if(c){const n=o.offsetHeight,s=c.offsetTop-n;e(s,800),t.classList.contains("active")&&r()}})})}}();const f=document.getElementById("current-year");f&&(f.textContent=(new Date).getFullYear()),document.addEventListener("keydown",e=>{"Escape"===e.key&&t.classList.contains("active")&&r()}),document.addEventListener("keydown",e=>{if(t.classList.contains("active")&&"Tab"===e.key){const n=t.querySelectorAll(".nav-link"),o=n[0],s=n[n.length-1];e.shiftKey&&document.activeElement===o?(e.preventDefault(),s.focus()):e.shiftKey||document.activeElement!==s||(e.preventDefault(),o.focus())}})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",v):v()}();